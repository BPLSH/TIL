# HTTP : 웹의 기초
Http 프로토콜을 빠르게 훑어본다.

#### HTTP?
전세계의 웹 브라우저, 서버, 웹 애플리케이션은 모두 HTTP를 통해 서로 대화한다. HTTP는 TCP를 사용하기 때문에, 데이터 손실이 없음을 보장한다.  

#### 리소스
웹서버는 웹 리소스를 관리하고 제공한다. 가장 단순한 웹 리소스는 웹 서버 파일 시스템의 정적 파일이다. 정적 파일은 텍스트, HTML, WORD등 모든 종류의 파일을 의미한다.  
그러나 꼭 모든 파일이 정적일 필요는 없으며, 리소스 요청에 따라 동적 콘텐츠를 제공하기도 한다. 웹캠으로부터 받아오는 리소스, 주식거래 리소스 등 서버 외부로부터 받아올 수 있다.

#### 미디어 타입
인터넷은 순천 가지 데이터 타입을 다루기 때문에, HTTP는 웹에서 전송되는 객체 각자에 MIME타입이라는 포맷 라벨을 이용한다.  

MIME은 사선으로 구분된 주 타입과 부 타입으로 문자열 라벨이다.  
1. text/html  
2. text/plain  
3. image/jpeg  
4. image/gif  

#### URI (uniform resource identifier)
웹 서버 리소스는 각자 이름을 갖고 있기 때문에, 클라이언트는 리소스를 지목할 수 있다. URI에는 두가지가 있는데, URL과 URN이라는 거다.

##### URL
uniform resource locator는 리소스 식별자의 가장 흔한 형태이다. 서버의 특정 한 리소스에 대해 구체적인 위치를 서술한다.
http://www.oreilly.com/index.html  

대부분의 URL은 세 부분으로 이루어진 표준 포맷을 따른다.
1. 프로토콜 : scheme (http://)
2. 인터넷 주소 : www.joes-hardware.com
3. 리소스 : /specials/saw-blade.gif

##### URN
uniform resource name은 콘텐츠를 이루는 한 리소스에 대해, 그 리소스의 위치에 영향 받지 않는 유일무이한 이름 역할을 한다. 위치 독립적이기때문에, 여기저기로 리소를 옮기더라도 정상적으로 동작한다.

ex) 인터넷 표준문서 RFC 2141이 어디에 있거나 상관없이 그것을 지칭하기 위해 사용한다.
urn:ietf:rfc:2141

URN아직 실험단계이며 널리 채택되지 않았다.

#### 트랙잭션
HTTP 트랜잭션은 요청과 응답으로 이루어져있다.
요청의 예  
GET /specials/saw-blade.gif HTTP/1.0 시작줄
Host: www.joes-hardware.com  헤더 시작
Accept: text/*  
Accept-Language: en,fr		
							헤더 끝

응답의 예  
HTTP/1.0 200 OK  시작줄
Content-type: image/gif  헤더 시작
Content-length: 8572  
						 헤더 끝
본문  

##### 메서드
흔히 쓰이는 HTTP 메서드  
1. GET 서버에서 클라이언트로 지정한 리소스를 보내라.  
2. PUT 클라이언트에서 서버로 보낸 데이터를 지정한 이름의 리소스로 저장하라.  
3. DELETE 지정한 리소스를 서버에서 삭제하라.  
4. POST 클라이언트 데이터를 서버 게이트웨이 애플리케이션으로 보내라.  
5. HEAD 지정한 리소스에 대한 응답에서, HTTP 헤더 부분만 보내라.  

##### 상태코드  
모든 응답 메세지는 상태 코드와 함께 반환된다.  
1. 200 좋다.
2. 302 다시보내라.
3. 404 없다.

#### 메세지
메세지는 크게 세 가지로 나뉘어진다.

##### 시작줄
요청과 응답의 상태를 나타낸다.  

##### 헤더 
시작줄 다음에 0개 이상의 헤더 필드가 이어진다. 각 헤더 필드는 쉬운 구문분석을 위해 콜론(:)으로 구분되어 하나의 이름과 하나의 값으로 구성된다. 헤더는 빈 줄로 끝난다.

##### 본문
빈줄 다음부터 본문의 내용이 시작된다.

#### TCP/IP
HTTP는 애플리케이션 레이어의 프로토콜이며, HTTP또한 메세지들을 전송하기 위하여 TCP/IP의 프로토콜을 이용하는 것뿐이다.  
1. 웹 브라우저는 서버의 URL에서 호스트 명을 추출한다.  
2. 웹 브라우저는 서버의 호스트 명을 IP로 변환한다.  
3. 웹 브라우저는 URL에서 포스번호를 추출한다.  
4. 웹 브라우저는 웹 서버와 TCP 커넥션을 맺는다.  
5. 웹 브라우저는 서버에 HTTP 요청을 보낸다.  
6. 서버는 웹 브라우저에 HTTP 응답을 돌려준다.  
7. 커넥션이 닫히면, 웹 브라우저는 문서를 보여준다.  
